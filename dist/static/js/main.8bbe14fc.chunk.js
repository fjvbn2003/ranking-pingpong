(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,a,t){},199:function(e,a,t){},219:function(e,a,t){e.exports=t(446)},224:function(e,a,t){},230:function(e,a,t){},384:function(e,a,t){},446:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(82),c=t.n(r),i=(t(224),t(15)),s=t(16),o=t(19),m=t(17),u=t(18),d=t(449),h=t(451),p=t(447),E=t(233),f=t(448),g=t(6),b=(t(230),Object(g.b)(null,function(e){return{signOut:function(){return e(function(e,a,t){(0,t.getFirebase)().auth().signOut().then(function(){e({type:"LOGOUT_SUCCESS"})})})}}})(function(e){var a=e.profile;return l.a.createElement("div",null,l.a.createElement("ul",{id:"nav-desktop",className:"right hide-on-small-only"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/create"},l.a.createElement("i",{className:"material-icons"},"add"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},"\uc804\uad11\ud310")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/history"},"\uc804\uc801")),l.a.createElement("li",null,l.a.createElement("a",{onClick:e.signOut},"\ub85c\uadf8\uc544\uc6c3")),l.a.createElement("li",null,l.a.createElement(E.a,{to:"/profile",className:"btn btn-floating red  lighten-3 btn-flat white-text"},a.initial))),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-up"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/create"},l.a.createElement("i",{className:"material-icons"},"add"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},l.a.createElement("i",{className:"material-icons"},"dashboard"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/history"},l.a.createElement("i",{className:"material-icons"},"assignment"))),l.a.createElement("li",null,l.a.createElement("a",{onClick:e.signOut},l.a.createElement("i",{className:"material-icons"},"logout"))),l.a.createElement("li",null,l.a.createElement(E.a,{to:"/profile",className:"btn btn-floating red lighten-3 btn-flat white-text"},a.initial))))})),v=function(){return l.a.createElement("div",null,l.a.createElement("ul",{id:"nav-desktop",className:"right hide-on-small-only"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},"\uc804\uad11\ud310")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signin"},"\ub85c\uadf8\uc778")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-up"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},l.a.createElement("i",{className:"material-icons"},"dashboard"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signin"},"\ub85c\uadf8\uc778")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))))},N=Object(g.b)(function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var a=e.auth,t=e.profile,n=a.uid?l.a.createElement(b,{profile:t}):l.a.createElement(v,null);return l.a.createElement("nav",{className:"nav wrapper red lighten-2 z-depth-0"},l.a.createElement("div",{className:"container"},l.a.createElement(E.a,{to:"/",className:"brand-logo left white-text"},"\ub7ad\ud0b9\ud551\ud401"),n))}),O=t(43),j=t.n(O),w=function(e){var a=e.notifications;return l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},"Notifications"),l.a.createElement("ul",{className:"notifications"},a&&a.map(function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("p",{className:"pink-text"},e.content),l.a.createElement("p",null,e.result),l.a.createElement("div",{className:"grey-text note-date"},j()(e.time.toDate()).fromNow()))})))))},_=(t(136),function(e){var a=e.game;return l.a.createElement("div",{className:"card  game-summary"},l.a.createElement("div",{className:"card-content grey-text text-darken-3"},l.a.createElement("div",{className:"card-title"},l.a.createElement("div",{className:"row center-align"},l.a.createElement("h3",{className:"col s5 m3 offset-m2 "},a.p1_score),l.a.createElement("h3",{className:"col s2 m0 "},":"),l.a.createElement("h3",{className:"col s5 m3"},a.p2_score)),l.a.createElement("div",{className:"row center-align"},l.a.createElement("h6",{className:"col s5 m3 offset-m2 center-align"},a.p1_name),l.a.createElement("h6",{className:"col s2 m0 "}),l.a.createElement("h6",{className:"col s5 m3 center-align"},a.p2_name))),l.a.createElement("p",{className:"center-align"},a.referee_name,"\uc5d0 \uc758\ud574 \uc0dd\uc131\ub428"),l.a.createElement("p",{className:"grey-text center-align"},j()(a.createdAt.toDate()).calendar())))}),y=function(e){var a=e.games;return l.a.createElement("div",{className:"game-list section"},a&&a.map(function(e){return l.a.createElement(E.a,{to:"/game/"+e.id,key:e.id},l.a.createElement(_,{game:e}))}))},C=t(14),S=t(9),R=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=(e.auth,e.notifications);return l.a.createElement("div",{className:"dashboard container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m5 offset-m1"},l.a.createElement(w,{notifications:a}))))}}]),a}(n.Component),k=Object(S.d)(Object(g.b)(function(e){return{auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),Object(C.firestoreConnect)([{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(R),I=t(450),A=Object(S.d)(Object(g.b)(function(e,a){var t=a.match.params.id,n=e.firestore.data.games;return{game:n?n[t]:null,auth:e.firebase.auth,id:t}}),Object(C.firestoreConnect)([{collection:"games"}]))(function(e){var a=e.game,t=e.auth,n=e.id;return console.log(a),t.uid?a?l.a.createElement("div",{className:"container section game-details"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"card-title"},l.a.createElement("div",{className:"row center-align"},l.a.createElement("h3",{className:"col s5 m5 l5"},a.p1_score),l.a.createElement("h3",{className:"col s2 m2 l2"},":"),l.a.createElement("h3",{className:"col s5 m5 l5"},a.p2_score)),l.a.createElement("div",{className:"row center-align"},l.a.createElement("h6",{className:"col s5 m5 center-align"},a.p1_name),l.a.createElement("h6",{className:"col s2 m2 "}),l.a.createElement("h6",{className:"col s5 m5 center-align"},a.p2_name))),l.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},l.a.createElement("div",null,"\uac8c\uc784\ubc88\ud638: ",n),l.a.createElement("div",{className:"grey-text left-align"},a.createdAt.toString()),l.a.createElement("div",null,"\ud0c1\uad6c\uc7a5 \uc704\uce58: ",a.location),l.a.createElement("div",null,"\uc2ec\ud310: ",a.referee_name),l.a.createElement("div",null,j()(a.createdAt.toDate()).calendar(),"\uc5d0 \uc0dd\uc131\ub428"))))):l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Loading project...")):l.a.createElement(I.a,{to:"/signin"})}),F=t(29),x=(t(199),function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={email:"",password:""},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signIn(t.state)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.authError;e.authErrorMessage;return e.auth.uid?l.a.createElement(I.a,{to:"/"}):l.a.createElement("div",{className:"signin container"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("h5",{className:"grey-text text-darken-3 col s12"},"\ub85c\uadf8\uc778")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("label",{htmlFor:"password"},"\ud328\uc2a4\uc6cc\ub4dc"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("button",{className:"btn red lighten-3"},"\ub85c\uadf8\uc778"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"red-text right col s12"},a?l.a.createElement("p",null,a):null))))}}]),a}(n.Component)),G=Object(g.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(a){return e((t=a,function(e,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(t.email,t.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(a){e({type:"LOGIN_ERROR",err:a})})}));var t}}})(x),U=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={email:"",password:"",name:"",level:"",club:","},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signUp(t.state)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.auth,t=e.authError;return a.uid?l.a.createElement(I.a,{to:"/"}):l.a.createElement("div",{className:"signup container"},l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("div",{className:"row"},l.a.createElement("h5",{className:"grey-text text-darken-3 col s12"},"\ud68c\uc6d0\uac00\uc785")),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"name"},"\uc774\ub984"),l.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"\ud328\uc2a4\uc6cc\ub4dc"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"level"},"\ubd80\uc218"),l.a.createElement("input",{type:"number",id:"level",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"club"},"\ud0c1\uad6c\uc7a5"),l.a.createElement("input",{type:"text",id:"club",onChange:this.handleChange}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn red lighten-3"},"\ud68c\uc6d0\uac00\uc785"))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null))))}}]),a}(n.Component),P=Object(g.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(a){return e(function(e){return function(a,t,n){var l=n.getFirebase,r=n.getFirestore,c=l(),i=r();c.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(a){return i.collection("users").doc(a.user.uid).set({name:e.name,level:e.level,club:e.club,initial:e.name[1]})}).then(function(){a({type:"SIGNUP_SUCCESS"})}).catch(function(e){a({type:"SIGNUP_ERROR",err:e})})}}(a))}}})(U),L=t(37),D=t(134),M=t.n(D),T=(t(384),!0),z=[],B=function(e,a){setTimeout(function(){a(W(e))},1e3),console.log("loadOption1 is called")},V=function(e,a){setTimeout(function(){a(W(e))},1e3),console.log("loadOption2 is called")},W=function(e){return z.filter(function(a){return a.label.includes(e)})},Y=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={p1_name:"",p1_score:0,p1_id:"",p2_name:"",p2_score:0,p2_id:"",referee:"",date:"",location:"",selectedOption1:null,selectedOption2:null,inputValue:""},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value)),console.log("submit",t.state)},t.handleChange1=function(e){console.log(e),t.setState({p1_name:e.label,p1_id:e.value})},t.handleChange2=function(e){t.setState({p2_name:e.label,p2_id:e.value})},t.handleSubmit=function(e){e.preventDefault(),console.log(t.state),t.props.createGame(t.state),t.props.history.push("/")},t.handleInputChange1=function(e){return t.setState({inputValue:e}),e},t.handleInputChange2=function(e){return t.setState({inputValue:e}),e},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log(e);var a=e.users;null!=a&&T&&(a.forEach(function(e){z.push({value:e.id,label:e.name})}),T=!1)}},{key:"render",value:function(){var e=this.props.auth,a=this.state;a.selectedOption1,a.selectedOption2;return e.uid?l.a.createElement("div",{className:"container create-game"},l.a.createElement("h3",{className:"center-align"},"\uacbd\uae30 \uae30\ub85d"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("div",{className:"row center-align valign-wrapper"},l.a.createElement("div",{className:"input-field col s5 m5 l5"},l.a.createElement("select",{id:"p1_score",className:"browser-default",onChange:this.handleChange},l.a.createElement("option",{value:"0",defaultValue:!0},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"))),l.a.createElement("h3",{className:"col s2 m2 l2"},":"),l.a.createElement("div",{className:"input-field col s5 m5 l5"},l.a.createElement("select",{id:"p2_score",className:"browser-default",onChange:this.handleChange},l.a.createElement("option",{value:"0",defaultValue:!0},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3")))),l.a.createElement("div",{className:"row center-align"},l.a.createElement("div",{className:"input-field col s5 m5 center-align"},l.a.createElement("label",{htmlFor:"p1_name"},"player1"),l.a.createElement(M.a,{loadOptions:B,defaultOptions:!0,cacheOptions:!0,onInputChange:this.handleInputChange1,onChange:this.handleChange1,isSearchable:!0})),l.a.createElement("h6",{className:"col s2 m2 "}),l.a.createElement("div",{className:"input-field col s5 m5 center-align"},l.a.createElement("label",{htmlFor:"p2_name"},"player2"),l.a.createElement(M.a,{loadOptions:V,cacheOptions:!0,defaultOptions:!0,onInputChange:this.handleInputChange2,onChange:this.handleChange2,isSearchable:!0}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"input-field center-align col s12"},l.a.createElement("button",{className:"btn red lighten-3"},"\ud655\uc778"))))):l.a.createElement(I.a,{to:"/signin"})}}]),a}(n.Component),J=Object(S.d)(Object(g.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered.users}},function(e){return{createGame:function(a){return e(function(e){return function(a,t,n){n.getFirebase;var l=(0,n.getFirestore)(),r=t().firebase.profile,c=t().firebase.auth.uid;l.collection("games").add(Object(L.a)({},e,{whowin:!1,referee_id:c,referee_name:r.name,p1_id:e.p1_id,p2_id:e.p2_id,createdAt:new Date})).then(function(){a({type:"CREATE_GAME",game:e})}).catch(function(e){a({type:"CREATE_GAME_ERROR",err:e})})}}(a))}}}),Object(C.firestoreConnect)([{collection:"users",orderBy:["name","desc"]}]))(Y),q=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.games;return e.auth.uid?l.a.createElement("div",{className:"history container"},l.a.createElement(y,{games:a})):l.a.createElement(I.a,{to:"/signin"})}}]),a}(n.Component),K=Object(S.d)(Object(g.b)(function(e){return{games:e.firestore.ordered.games,auth:e.firebase.auth}}),Object(C.firestoreConnect)([{collection:"games",orderBy:["createdAt","desc"]}]))(q),$=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(N,null),l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:"/",component:k}),l.a.createElement(p.a,{path:"/game/:id",component:A}),l.a.createElement(p.a,{path:"/signin",component:G}),l.a.createElement(p.a,{path:"/signup",component:P}),l.a.createElement(p.a,{path:"/create",component:J}),l.a.createElement(p.a,{path:"/history",component:K}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H={authError:null},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_ERROR":return Object(L.a)({},e,{authError:"Login failed",authErrorMessage:a.err});case"LOGIN_SUCCESS":return console.log("login success"),Object(L.a)({},e,{authError:null,authErrorMessage:null});case"LOGOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(L.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(L.a)({},e,{authError:a.err.message});default:return e}},X={games:[{id:1,p1_score:3,p2_score:2,p1_name:"\uae40\uc601\uc8fc",p2_name:"\ubd95\uc5b4\ube75"},{id:2,p1_score:3,p2_score:0,p1_name:"\uace0\uad6c\ub9c8",p2_name:"\uac10\uc790"},{id:3,p1_score:2,p2_score:3,p1_name:"\uac10\uc790",p2_name:"\uc624\uc774"},{id:4,p1_score:1,p2_score:3,p1_name:"\ubc30\ucd94",p2_name:"\ub2f9\uadfc"}]},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:X;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_GAME":case"CREATE_GAME_ERROR":default:return e}},ee=t(58),ae=Object(S.c)({auth:Q,game:Z,firestore:ee.firestoreReducer,firebase:C.firebaseReducer}),te=t(217),ne=t(85),le=t.n(ne);t(439),t(444);le.a.initializeApp({apiKey:"AIzaSyAlP6zYhvjzPIGsj2FYeYvLMw5D3IoqBMo",authDomain:"react-rankpong.firebaseapp.com",databaseURL:"https://react-rankpong.firebaseio.com",projectId:"react-rankpong",storageBucket:"react-rankpong.appspot.com",messagingSenderId:"271586261523"}),le.a.firestore().settings({timestampsInSnapshots:!0});var re=le.a,ce=Object(S.e)(ae,Object(S.d)(Object(S.a)(te.a.withExtraArgument({getFirebase:C.getFirebase,getFirestore:ee.getFirestore})),Object(ee.reduxFirestore)(re),Object(C.reactReduxFirebase)(re,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));ce.firebaseAuthIsReady.then(function(){c.a.render(l.a.createElement(g.a,{store:ce},l.a.createElement($,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[219,2,1]]]);
//# sourceMappingURL=main.8bbe14fc.chunk.js.map
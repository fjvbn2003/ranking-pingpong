(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,a,t){},218:function(e,a,t){e.exports=t(440)},223:function(e,a,t){},440:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(82),c=t.n(r),i=(t(223),t(20)),s=t(21),o=t(24),m=t(22),u=t(23),d=t(443),h=t(445),p=t(441),E=t(230),f=t(442),g=t(8),b=Object(g.b)(null,function(e){return{signOut:function(){return e(function(e,a,t){(0,t.getFirebase)().auth().signOut().then(function(){e({type:"LOGOUT_SUCCESS"})})})}}})(function(e){var a=e.profile;return l.a.createElement("div",null,l.a.createElement("ul",{id:"nav-desktop",className:"right hide-on-small-only"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/create"},l.a.createElement("i",{className:"material-icons"},"add"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},"\uc804\uad11\ud310")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},"\uc804\uc801")),l.a.createElement("li",null,l.a.createElement("a",{onClick:e.signOut},"\ub85c\uadf8\uc544\uc6c3")),l.a.createElement("li",null,l.a.createElement(E.a,{to:"/profile",className:"btn btn-floating blue btn-flat white-text"},a.initial))),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-up"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/create"},l.a.createElement("i",{className:"material-icons"},"add"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},l.a.createElement("i",{className:"material-icons"},"dashboard"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},l.a.createElement("i",{className:"material-icons"},"assignment"))),l.a.createElement("li",null,l.a.createElement("a",{onClick:e.signOut},l.a.createElement("i",{className:"material-icons"},"logout"))),l.a.createElement("li",null,l.a.createElement(E.a,{to:"/profile",className:"btn btn-floating blue btn-flat white-text"},a.initial))))}),v=function(){return l.a.createElement("div",null,l.a.createElement("ul",{id:"nav-desktop",className:"right hide-on-small-only"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},"\uc804\uad11\ud310")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},"\ub7ad\ud0b9")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signin"},"\ub85c\uadf8\uc778")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))),l.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-up"},l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},l.a.createElement("i",{className:"material-icons"},"dashboard"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/"},l.a.createElement("i",{className:"material-icons"},"view_list"))),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signin"},"\ub85c\uadf8\uc778")),l.a.createElement("li",null,l.a.createElement(f.a,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))))},N=Object(g.b)(function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var a=e.auth,t=e.profile,n=a.uid?l.a.createElement(b,{profile:t}):l.a.createElement(v,null);return l.a.createElement("nav",{className:"nav wrapper blue darken-4"},l.a.createElement("div",{className:"container"},l.a.createElement(E.a,{to:"/",className:"brand-logo left"},"\ub7ad\ud401"),n))}),O=t(43),C=t.n(O),_=function(e){var a=e.notifications;return l.a.createElement("div",{className:"section"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("span",{className:"card-title"},"Notifications"),l.a.createElement("ul",{className:"notifications"},a&&a.map(function(e){return l.a.createElement("li",{key:e.id},l.a.createElement("p",{className:"pink-text"},e.content),l.a.createElement("p",null,e.result),l.a.createElement("div",{className:"grey-text note-date"},C()(e.time.toDate()).fromNow()))})))))},j=(t(136),function(e){var a=e.game;return l.a.createElement("div",{className:"card z-depth-0 game-summary"},l.a.createElement("div",{className:"card-content grey-text text-darken-3"},l.a.createElement("div",{className:"card-title"},l.a.createElement("div",{className:"row center-align"},l.a.createElement("h3",{className:"col s5 m3 offset-m2 "},a.p1_score),l.a.createElement("h3",{className:"col s2 m0 "},":"),l.a.createElement("h3",{className:"col s5 m3"},a.p2_score)),l.a.createElement("div",{className:"row center-align"},l.a.createElement("h6",{className:"col s5 m3 offset-m2 center-align"},a.p1_name),l.a.createElement("h6",{className:"col s2 m0 "}),l.a.createElement("h6",{className:"col s5 m3 center-align"},a.p2_name))),l.a.createElement("p",{className:"center-align"},a.referee_name,"\uc5d0 \uc758\ud574 \uc0dd\uc131\ub428"),l.a.createElement("p",{className:"grey-text center-align"},C()(a.createdAt.toDate()).calendar())))}),y=function(e){var a=e.games;return l.a.createElement("div",{className:"game-list section"},a&&a.map(function(e){return l.a.createElement(E.a,{to:"/game/"+e.id,key:e.id},l.a.createElement(j,{game:e}))}))},w=t(16),S=t(12),k=t(444),R=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.games,t=e.auth,n=e.notifications;return t.uid?l.a.createElement("div",{className:"dashboard container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col s12 m5 offset-m1"},l.a.createElement(_,{notifications:n})),l.a.createElement("div",{className:"col s12 m6"},l.a.createElement(y,{games:a})))):l.a.createElement(k.a,{to:"/signin"})}}]),a}(n.Component),I=Object(S.d)(Object(g.b)(function(e){return{games:e.firestore.ordered.games,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),Object(w.firestoreConnect)([{collection:"games",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(R),A=Object(S.d)(Object(g.b)(function(e,a){var t=a.match.params.id,n=e.firestore.data.games;return{game:n?n[t]:null,auth:e.firebase.auth,id:t}}),Object(w.firestoreConnect)([{collection:"games"}]))(function(e){var a=e.game,t=e.auth,n=e.id;return console.log(a),t.uid?a?l.a.createElement("div",{className:"container section game-details"},l.a.createElement("div",{className:"card z-depth-0"},l.a.createElement("div",{className:"card-content"},l.a.createElement("div",{className:"card-title"},l.a.createElement("div",{className:"row center-align"},l.a.createElement("h3",{className:"col s5 m5 l5"},a.p1_score),l.a.createElement("h3",{className:"col s2 m2 l2"},":"),l.a.createElement("h3",{className:"col s5 m5 l5"},a.p2_score)),l.a.createElement("div",{className:"row center-align"},l.a.createElement("h6",{className:"col s5 m5 center-align"},a.p1_name),l.a.createElement("h6",{className:"col s2 m2 "}),l.a.createElement("h6",{className:"col s5 m5 center-align"},a.p2_name))),l.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},l.a.createElement("div",null,"\uac8c\uc784\ubc88\ud638: ",n),l.a.createElement("div",{className:"grey-text left-align"},a.createdAt.toString()),l.a.createElement("div",null,"\ud0c1\uad6c\uc7a5 \uc704\uce58: ",a.location),l.a.createElement("div",null,"\uc2ec\ud310: ",a.referee_name),l.a.createElement("div",null,C()(a.createdAt.toDate()).calendar(),"\uc5d0 \uc0dd\uc131\ub428"))))):l.a.createElement("div",{className:"container center"},l.a.createElement("p",null,"Loading project...")):l.a.createElement(k.a,{to:"/signin"})}),F=t(29),x=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={email:"",password:""},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signIn(t.state)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.authError;e.authErrorMessage;return e.auth.uid?l.a.createElement(k.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"\ub85c\uadf8\uc778"),l.a.createElement("h3",null),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"\ud328\uc2a4\uc6cc\ub4dc"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn blue darken-4 z-depth-0"},"\ub85c\uadf8\uc778"),l.a.createElement("div",{className:"red-text center"},a?l.a.createElement("p",null,a):null))))}}]),a}(n.Component),G=Object(g.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(a){return e((t=a,function(e,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(t.email,t.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(a){e({type:"LOGIN_ERROR",err:a})})}));var t}}})(x),U=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={email:"",password:"",name:"",level:"",club:","},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signUp(t.state)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.auth,t=e.authError;return a.uid?l.a.createElement(k.a,{to:"/"}):l.a.createElement("div",{className:"container"},l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("h5",{className:"grey-text text-darken-3"},"\ud68c\uc6d0\uac00\uc785"),l.a.createElement("h3",null),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"name"},"\uc774\ub984"),l.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),l.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"password"},"\ud328\uc2a4\uc6cc\ub4dc"),l.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"level"},"\ubd80\uc218"),l.a.createElement("input",{type:"number",id:"level",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("label",{htmlFor:"club"},"\ud0c1\uad6c\uc7a5"),l.a.createElement("input",{type:"text",id:"club",onChange:this.handleChange})),l.a.createElement("div",{className:"input-field"},l.a.createElement("button",{className:"btn blue darken-4 z-depth-0"},"\ud68c\uc6d0\uac00\uc785"),l.a.createElement("div",{className:"red-text center"},t?l.a.createElement("p",null,t):null))))}}]),a}(n.Component),P=Object(g.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(a){return e(function(e){return function(a,t,n){var l=n.getFirebase,r=n.getFirestore,c=l(),i=r();c.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(a){return i.collection("users").doc(a.user.uid).set({name:e.name,level:e.level,club:e.club,initial:e.name[1]})}).then(function(){a({type:"SIGNUP_SUCCESS"})}).catch(function(e){a({type:"SIGNUP_ERROR",err:e})})}}(a))}}})(U),z=t(37),L=t(134),D=t.n(L),M=[],T=function(e,a){setTimeout(function(){a(V(e))},1e3),console.log("loadOption1 is called")},B=function(e,a){setTimeout(function(){a(V(e))},1e3),console.log("loadOption2 is called")},V=function(e){return M.filter(function(a){return a.label.includes(e)})},W=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(t=Object(o.a)(this,(e=Object(m.a)(a)).call.apply(e,[this].concat(l)))).state={p1_name:"",p1_score:0,p2_name:"",p2_score:0,referee:"",date:"",location:"",selectedOption1:null,selectedOption2:null,inputValue:""},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value)),console.log(t.state)},t.handleChange1=function(e){t.setState({p1_name:e.value})},t.handleChange2=function(e){t.setState({p2_name:e.value})},t.handleSubmit=function(e){e.preventDefault(),t.props.createGame(t.state),t.props.history.push("/")},t.handleInputChange1=function(e){return t.setState({inputValue:e}),e},t.handleInputChange2=function(e){return t.setState({inputValue:e}),e},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"componentWillReceiveProps",value:function(e){console.log(e);var a=e.users;null!=a&&a.forEach(function(e){M.push({value:e.name,label:e.name})}),console.log(M)}},{key:"render",value:function(){var e=this.props.auth,a=this.state;a.selectedOption1,a.selectedOption2;return e.uid?l.a.createElement("div",{className:"container create-game"},l.a.createElement("h3",{className:"center-align"},"\uacbd\uae30 \uae30\ub85d"),l.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},l.a.createElement("div",{className:"row center-align valign-wrapper"},l.a.createElement("div",{className:"input-field col s5 m5 l5"},l.a.createElement("select",{id:"p1_score",className:"browser-default",onChange:this.handleChange},l.a.createElement("option",{value:"0",defaultValue:!0},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3"))),l.a.createElement("h3",{className:"col s2 m2 l2"},":"),l.a.createElement("div",{className:"input-field col s5 m5 l5"},l.a.createElement("select",{id:"p2_score",className:"browser-default",onChange:this.handleChange},l.a.createElement("option",{value:"0",defaultValue:!0},"0"),l.a.createElement("option",{value:"1"},"1"),l.a.createElement("option",{value:"2"},"2"),l.a.createElement("option",{value:"3"},"3")))),l.a.createElement("div",{className:"row center-align"},l.a.createElement("div",{className:"input-field col s5 m5 center-align"},l.a.createElement("label",{htmlFor:"p1_name"},"player1"),l.a.createElement(D.a,{loadOptions:T,defaultOptions:!0,cacheOptions:!0,onInputChange:this.handleInputChange1,onChange:this.handleChange1,isSearchable:!0})),l.a.createElement("h6",{className:"col s2 m2 "}),l.a.createElement("div",{className:"input-field col s5 m5 center-align"},l.a.createElement("label",{htmlFor:"p2_name"},"player2"),l.a.createElement(D.a,{loadOptions:B,cacheOptions:!0,defaultOptions:!0,onInputChange:this.handleInputChange2,onChange:this.handleChange2,isSearchable:!0}))),l.a.createElement("div",{className:"input-field center-align"},l.a.createElement("button",{className:"btn blue darken-4 z-depth-0"},"\ud655\uc778")))):l.a.createElement(k.a,{to:"/signin"})}}]),a}(n.Component),Y=Object(S.d)(Object(g.b)(function(e){return{auth:e.firebase.auth,users:e.firestore.ordered.users}},function(e){return{createGame:function(a){return e(function(e){return function(a,t,n){n.getFirebase;var l=(0,n.getFirestore)(),r=t().firebase.profile,c=t().firebase.auth.uid;l.collection("games").add(Object(z.a)({},e,{whowin:!1,referee_id:c,referee_name:r.name,p1_id:e.p1_name,p2_id:e.p2_name,createdAt:new Date})).then(function(){a({type:"CREATE_GAME",game:e})}).catch(function(e){a({type:"CREATE_GAME_ERROR",err:e})})}}(a))}}}),Object(w.firestoreConnect)([{collection:"users",orderBy:["name","desc"]}]))(W),J=function(e){function a(){return Object(i.a)(this,a),Object(o.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(N,null),l.a.createElement(h.a,null,l.a.createElement(p.a,{exact:!0,path:"/",component:I}),l.a.createElement(p.a,{path:"/game/:id",component:A}),l.a.createElement(p.a,{path:"/signin",component:G}),l.a.createElement(p.a,{path:"/signup",component:P}),l.a.createElement(p.a,{path:"/create",component:Y}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var q={authError:null},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_ERROR":return Object(z.a)({},e,{authError:"Login failed",authErrorMessage:a.err});case"LOGIN_SUCCESS":return console.log("login success"),Object(z.a)({},e,{authError:null,authErrorMessage:null});case"LOGOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(z.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(z.a)({},e,{authError:a.err.message});default:return e}},$={games:[{id:1,p1_score:3,p2_score:2,p1_name:"\uae40\uc601\uc8fc",p2_name:"\ubd95\uc5b4\ube75"},{id:2,p1_score:3,p2_score:0,p1_name:"\uace0\uad6c\ub9c8",p2_name:"\uac10\uc790"},{id:3,p1_score:2,p2_score:3,p1_name:"\uac10\uc790",p2_name:"\uc624\uc774"},{id:4,p1_score:1,p2_score:3,p1_name:"\ubc30\ucd94",p2_name:"\ub2f9\uadfc"}]},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_GAME":case"CREATE_GAME_ERROR":default:return e}},Q=t(58),X=Object(S.c)({auth:K,game:H,firestore:Q.firestoreReducer,firebase:w.firebaseReducer}),Z=t(216),ee=t(85),ae=t.n(ee);t(433),t(438);ae.a.initializeApp({apiKey:"AIzaSyAlP6zYhvjzPIGsj2FYeYvLMw5D3IoqBMo",authDomain:"react-rankpong.firebaseapp.com",databaseURL:"https://react-rankpong.firebaseio.com",projectId:"react-rankpong",storageBucket:"react-rankpong.appspot.com",messagingSenderId:"271586261523"}),ae.a.firestore().settings({timestampsInSnapshots:!0});var te=ae.a,ne=Object(S.e)(X,Object(S.d)(Object(S.a)(Z.a.withExtraArgument({getFirebase:w.getFirebase,getFirestore:Q.getFirestore})),Object(Q.reduxFirestore)(te),Object(w.reactReduxFirebase)(te,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));ne.firebaseAuthIsReady.then(function(){c.a.render(l.a.createElement(g.a,{store:ne},l.a.createElement(J,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[218,2,1]]]);
//# sourceMappingURL=main.8ecf6212.chunk.js.map
(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{129:function(e,a,t){},201:function(e,a,t){e.exports=t(402)},206:function(e,a,t){},402:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(197),c=t.n(l),i=(t(206),t(17)),s=t(18),m=t(20),o=t(19),u=t(21),d=t(405),E=t(407),h=t(403),p=t(213),f=t(404),g=t(8),b=Object(g.b)(null,function(e){return{signOut:function(){return e(function(e,a,t){(0,t.getFirebase)().auth().signOut().then(function(){e({type:"LOGOUT_SUCCESS"})})})}}})(function(e){var a=e.profile;return r.a.createElement("div",null,r.a.createElement("ul",{id:"nav-desktop",className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(f.a,{to:"/create"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},"\uc804\uad11\ud310")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},"\uc804\uc801")),r.a.createElement("li",null,r.a.createElement("a",{onClick:e.signOut},"\ub85c\uadf8\uc544\uc6c3")),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/profile",className:"btn btn-floating blue btn-flat white-text"},a.initial))),r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-up"},r.a.createElement("li",null,r.a.createElement(f.a,{to:"/create"},r.a.createElement("i",{className:"material-icons"},"add"))),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},r.a.createElement("i",{className:"material-icons"},"dashboard"))),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},r.a.createElement("i",{className:"material-icons"},"assignment"))),r.a.createElement("li",null,r.a.createElement("a",{onClick:e.signOut},r.a.createElement("i",{className:"material-icons"},"logout"))),r.a.createElement("li",null,r.a.createElement(p.a,{to:"/profile",className:"btn btn-floating blue btn-flat white-text"},a.initial))))}),v=function(){return r.a.createElement("div",null,r.a.createElement("ul",{id:"nav-desktop",className:"right hide-on-small-only"},r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},"\uc804\uad11\ud310")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},"\ub7ad\ud0b9")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/signin"},"\ub85c\uadf8\uc778")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))),r.a.createElement("ul",{id:"nav-mobile",className:"right hide-on-med-and-up"},r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},r.a.createElement("i",{className:"material-icons"},"dashboard"))),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/"},r.a.createElement("i",{className:"material-icons"},"view_list"))),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/signin"},"\ub85c\uadf8\uc778")),r.a.createElement("li",null,r.a.createElement(f.a,{to:"/signup"},"\ud68c\uc6d0\uac00\uc785"))))},N=Object(g.b)(function(e){return console.log(e),{auth:e.firebase.auth,profile:e.firebase.profile}})(function(e){var a=e.auth,t=e.profile,n=a.uid?r.a.createElement(b,{profile:t}):r.a.createElement(v,null);return r.a.createElement("nav",{className:"nav wrapper blue darken-4"},r.a.createElement("div",{className:"container"},r.a.createElement(p.a,{to:"/",className:"brand-logo left"},"\ub7ad\ud401"),n))}),O=t(42),_=t.n(O),y=function(e){var a=e.notifications;return r.a.createElement("div",{className:"section"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("span",{className:"card-title"},"Notifications"),r.a.createElement("ul",{className:"notifications"},a&&a.map(function(e){return r.a.createElement("li",{key:e.id},r.a.createElement("p",{className:"pink-text"},e.content),r.a.createElement("p",null,e.result),r.a.createElement("div",{className:"grey-text note-date"},_()(e.time.toDate()).fromNow()))})))))},j=(t(129),function(e){var a=e.game;return r.a.createElement("div",{className:"card z-depth-0 game-summary"},r.a.createElement("div",{className:"card-content grey-text text-darken-3"},r.a.createElement("div",{className:"card-title"},r.a.createElement("div",{className:"row center-align"},r.a.createElement("h3",{className:"col s5 m3 offset-m2 "},a.p1_score),r.a.createElement("h3",{className:"col s2 m0 "},":"),r.a.createElement("h3",{className:"col s5 m3"},a.p2_score)),r.a.createElement("div",{className:"row center-align"},r.a.createElement("h6",{className:"col s5 m3 offset-m2 center-align"},a.p1_name),r.a.createElement("h6",{className:"col s2 m0 "}),r.a.createElement("h6",{className:"col s5 m3 center-align"},a.p2_name))),r.a.createElement("p",{className:"center-align"},a.referee_name,"\uc5d0 \uc758\ud574 \uc0dd\uc131\ub428"),r.a.createElement("p",{className:"grey-text center-align"},_()(a.createdAt.toDate()).calendar())))}),w=function(e){var a=e.games;return r.a.createElement("div",{className:"game-list section"},a&&a.map(function(e){return r.a.createElement(p.a,{to:"/game/"+e.id,key:e.id},r.a.createElement(j,{game:e}))}))},C=t(23),S=t(12),k=t(406),R=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.games,t=e.auth,n=e.notifications;return t.uid?r.a.createElement("div",{className:"dashboard container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col s12 m6"},r.a.createElement(w,{games:a})),r.a.createElement("div",{className:"col s12 m5 offset-m1"},r.a.createElement(y,{notifications:n})))):r.a.createElement(k.a,{to:"/signin"})}}]),a}(n.Component),A=Object(S.d)(Object(g.b)(function(e){return{games:e.firestore.ordered.games,auth:e.firebase.auth,notifications:e.firestore.ordered.notifications}}),Object(C.firestoreConnect)([{collection:"games",orderBy:["createdAt","desc"]},{collection:"notifications",limit:5,orderBy:["time","desc"]}]))(R),x=Object(S.d)(Object(g.b)(function(e,a){var t=a.match.params.id,n=e.firestore.data.games;return{game:n?n[t]:null,auth:e.firebase.auth,id:t}}),Object(C.firestoreConnect)([{collection:"games"}]))(function(e){var a=e.game,t=e.auth,n=e.id;return console.log(a),t.uid?a?r.a.createElement("div",{className:"container section game-details"},r.a.createElement("div",{className:"card z-depth-0"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"card-title"},r.a.createElement("div",{className:"row center-align"},r.a.createElement("h3",{className:"col s5 m5 l5"},a.p1_score),r.a.createElement("h3",{className:"col s2 m2 l2"},":"),r.a.createElement("h3",{className:"col s5 m5 l5"},a.p2_score)),r.a.createElement("div",{className:"row center-align"},r.a.createElement("h6",{className:"col s5 m5 center-align"},a.p1_name),r.a.createElement("h6",{className:"col s2 m2 "}),r.a.createElement("h6",{className:"col s5 m5 center-align"},a.p2_name))),r.a.createElement("div",{className:"card-action grey lighten-4 grey-text"},r.a.createElement("div",null,"\uac8c\uc784\ubc88\ud638: ",n),r.a.createElement("div",{className:"grey-text left-align"},a.createdAt.toString()),r.a.createElement("div",null,"\ud0c1\uad6c\uc7a5 \uc704\uce58: ",a.location),r.a.createElement("div",null,"\uc2ec\ud310: ",a.referee_name),r.a.createElement("div",null,_()(a.createdAt.toDate()).calendar(),"\uc5d0 \uc0dd\uc131\ub428"))))):r.a.createElement("div",{className:"container center"},r.a.createElement("p",null,"Loading project...")):r.a.createElement(k.a,{to:"/signin"})}),F=t(28),I=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:""},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signIn(t.state)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.authError;e.authErrorMessage;return e.auth.uid?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"\ub85c\uadf8\uc778"),r.a.createElement("h3",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"\ud328\uc2a4\uc6cc\ub4dc"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue darken-4 z-depth-0"},"\ub85c\uadf8\uc778"),r.a.createElement("div",{className:"red-text center"},a?r.a.createElement("p",null,a):null))))}}]),a}(n.Component),G=Object(g.b)(function(e){return{authError:e.auth.authError,auth:e.firebase.auth}},function(e){return{signIn:function(a){return e((t=a,function(e,a,n){(0,n.getFirebase)().auth().signInWithEmailAndPassword(t.email,t.password).then(function(){e({type:"LOGIN_SUCCESS"})}).catch(function(a){e({type:"LOGIN_ERROR",err:a})})}));var t}}})(I),U=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(r)))).state={email:"",password:"",name:"",level:"",club:","},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.signUp(t.state)},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){var e=this.props,a=e.auth,t=e.authError;return a.uid?r.a.createElement(k.a,{to:"/"}):r.a.createElement("div",{className:"container"},r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("h5",{className:"grey-text text-darken-3"},"\ud68c\uc6d0\uac00\uc785"),r.a.createElement("h3",null),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"name"},"\uc774\ub984"),r.a.createElement("input",{type:"text",id:"name",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"email"},"\uc774\uba54\uc77c"),r.a.createElement("input",{type:"email",id:"email",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"password"},"\ud328\uc2a4\uc6cc\ub4dc"),r.a.createElement("input",{type:"password",id:"password",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"level"},"\ubd80\uc218"),r.a.createElement("input",{type:"number",id:"level",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("label",{htmlFor:"club"},"\ud0c1\uad6c\uc7a5"),r.a.createElement("input",{type:"text",id:"club",onChange:this.handleChange})),r.a.createElement("div",{className:"input-field"},r.a.createElement("button",{className:"btn blue darken-4 z-depth-0"},"\ud68c\uc6d0\uac00\uc785"),r.a.createElement("div",{className:"red-text center"},t?r.a.createElement("p",null,t):null))))}}]),a}(n.Component),z=Object(g.b)(function(e){return{auth:e.firebase.auth,authError:e.auth.authError}},function(e){return{signUp:function(a){return e(function(e){return function(a,t,n){var r=n.getFirebase,l=n.getFirestore,c=r(),i=l();c.auth().createUserWithEmailAndPassword(e.email,e.password).then(function(a){return i.collection("users").doc(a.user.uid).set({name:e.name,level:e.level,club:e.club,initial:e.name[1]})}).then(function(){a({type:"SIGNUP_SUCCESS"})}).catch(function(e){a({type:"SIGNUP_ERROR",err:e})})}}(a))}}})(U),L=t(36),P=function(e){function a(){var e,t;Object(i.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(t=Object(m.a)(this,(e=Object(o.a)(a)).call.apply(e,[this].concat(r)))).state={p1_name:"",p1_score:0,p2_name:"",p2_score:0,referee:"",date:"",location:""},t.handleChange=function(e){t.setState(Object(F.a)({},e.target.id,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.createGame(t.state),t.props.history.push("/")},t}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return this.props.auth.uid?r.a.createElement("div",{className:"container create-game"},r.a.createElement("h3",{className:"center-align"},"\uacbd\uae30 \uae30\ub85d"),r.a.createElement("form",{onSubmit:this.handleSubmit,className:"white"},r.a.createElement("div",{className:"row center-align valign-wrapper"},r.a.createElement("div",{className:"input-field col s5 m5 l5"},r.a.createElement("select",{id:"p1_score",className:"browser-default",onChange:this.handleChange},r.a.createElement("option",{value:"0",defaultValue:!0},"0"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3"))),r.a.createElement("h3",{className:"col s2 m2 l2"},":"),r.a.createElement("div",{className:"input-field col s5 m5 l5"},r.a.createElement("select",{id:"p2_score",className:"browser-default",onChange:this.handleChange},r.a.createElement("option",{value:"0",defaultValue:!0},"0"),r.a.createElement("option",{value:"1"},"1"),r.a.createElement("option",{value:"2"},"2"),r.a.createElement("option",{value:"3"},"3")))),r.a.createElement("div",{className:"row center-align"},r.a.createElement("div",{className:"input-field col s5 m5 center-align"},r.a.createElement("label",{htmlFor:"p1_name"},"player1"),r.a.createElement("input",{type:"text",id:"p1_name",onChange:this.handleChange})),r.a.createElement("h6",{className:"col s2 m2 "}),r.a.createElement("div",{className:"input-field col s5 m5 center-align"},r.a.createElement("label",{htmlFor:"p2_name"},"player2"),r.a.createElement("input",{type:"text",id:"p2_name",onChange:this.handleChange}))),r.a.createElement("div",{className:"input-field center-align"},r.a.createElement("button",{className:"btn blue darken-4 z-depth-0"},"\ud655\uc778")))):r.a.createElement(k.a,{to:"/signin"})}}]),a}(n.Component),D=Object(g.b)(function(e){return{auth:e.firebase.auth}},function(e){return{createGame:function(a){return e(function(e){return function(a,t,n){n.getFirebase;var r=(0,n.getFirestore)(),l=t().firebase.profile,c=t().firebase.auth.uid;r.collection("games").add(Object(L.a)({},e,{whowin:!1,referee_id:c,referee_name:l.name,p1_id:e.p1_name,p2_id:e.p2_name,createdAt:new Date})).then(function(){a({type:"CREATE_GAME",game:e})}).catch(function(e){a({type:"CREATE_GAME_ERROR",err:e})})}}(a))}}})(P),M=function(e){function a(){return Object(i.a)(this,a),Object(m.a)(this,Object(o.a)(a).apply(this,arguments))}return Object(u.a)(a,e),Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(d.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(N,null),r.a.createElement(E.a,null,r.a.createElement(h.a,{exact:!0,path:"/",component:A}),r.a.createElement(h.a,{path:"/game/:id",component:x}),r.a.createElement(h.a,{path:"/signin",component:G}),r.a.createElement(h.a,{path:"/signup",component:z}),r.a.createElement(h.a,{path:"/create",component:D}))))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var B={authError:null},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN_ERROR":return Object(L.a)({},e,{authError:"Login failed",authErrorMessage:a.err});case"LOGIN_SUCCESS":return console.log("login success"),Object(L.a)({},e,{authError:null,authErrorMessage:null});case"LOGOUT_SUCCESS":return console.log("signout success"),e;case"SIGNUP_SUCCESS":return console.log("signup success"),Object(L.a)({},e,{authError:null});case"SIGNUP_ERROR":return console.log("signup error"),Object(L.a)({},e,{authError:a.err.message});default:return e}},W={games:[{id:1,p1_score:3,p2_score:2,p1_name:"\uae40\uc601\uc8fc",p2_name:"\ubd95\uc5b4\ube75"},{id:2,p1_score:3,p2_score:0,p1_name:"\uace0\uad6c\ub9c8",p2_name:"\uac10\uc790"},{id:3,p1_score:2,p2_score:3,p1_name:"\uac10\uc790",p2_name:"\uc624\uc774"},{id:4,p1_score:1,p2_score:3,p1_name:"\ubc30\ucd94",p2_name:"\ub2f9\uadfc"}]},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W;switch((arguments.length>1?arguments[1]:void 0).type){case"CREATE_GAME":case"CREATE_GAME_ERROR":default:return e}},J=t(57),V=Object(S.c)({auth:T,game:Y,firestore:J.firestoreReducer,firebase:C.firebaseReducer}),q=t(200),K=t(83),$=t.n(K);t(395),t(400);$.a.initializeApp({apiKey:"AIzaSyAlP6zYhvjzPIGsj2FYeYvLMw5D3IoqBMo",authDomain:"react-rankpong.firebaseapp.com",databaseURL:"https://react-rankpong.firebaseio.com",projectId:"react-rankpong",storageBucket:"react-rankpong.appspot.com",messagingSenderId:"271586261523"}),$.a.firestore().settings({timestampsInSnapshots:!0});var H=$.a,Q=Object(S.e)(V,Object(S.d)(Object(S.a)(q.a.withExtraArgument({getFirebase:C.getFirebase,getFirestore:J.getFirestore})),Object(J.reduxFirestore)(H),Object(C.reactReduxFirebase)(H,{useFirestoreForProfile:!0,userProfile:"users",attachAuthIsReady:!0})));Q.firebaseAuthIsReady.then(function(){c.a.render(r.a.createElement(g.a,{store:Q},r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})})}},[[201,2,1]]]);
//# sourceMappingURL=main.80f81a9d.chunk.js.map